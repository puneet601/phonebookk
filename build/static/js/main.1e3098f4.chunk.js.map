{"version":3,"sources":["components/AddPerson.js","components/FilterPerson.js","components/Person.js","components/Persons.js","services/personDB.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","props","onSubmit","addPerson","placeholder","value","newName","onChange","setName","required","newNumber","type","setNumber","onClick","addName","FilterPerson","newSearch","handleSearchChange","Person","deletePerson","name","number","Persons","persons","filter","person","toUpperCase","includes","map","handleDeletePerson","id","baseURL","axios","get","then","response","data","newObject","post","delete","put","Notification","message","status","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","errorMessage","setErrorMessage","setStatus","checkNames","checkNumbers","useEffect","console","log","personDB","initialPersons","window","confirm","n","setTimeout","catch","error","event","target","preventDefault","personObject","Math","floor","random","findIndex","x","find","changednumId","q","changedNumber","newPerson","concat","to","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e3098f4.chunk.js","sourcesContent":["import React from 'react'\r\nconst AddPerson = (props) => {\r\nreturn(<form  onSubmit={props.addPerson}>\r\n <input placeholder=\"Enter the name of contact\" value={props.newName} onChange={props.setName} required />\r\n <input placeholder=\"Enter the number of contact\" value={props.newNumber} type=\"number\"  onChange={props.setNumber} required />\r\n<button type=\"submit\" onClick={props.addName}>Add</button>\r\n       \r\n      </form>);\r\n      }\r\n      \r\nexport default AddPerson","import React from 'react'\r\nconst FilterPerson = (props) => {\r\n    \r\n    return (\r\n        <form >\r\n            <h2>Sort :</h2> <input\r\n                placeholder=\"Enter an alphabet\"\r\n            value={props.newSearch}\r\n            onChange={props.handleSearchChange} />\r\n            <br />\r\n        </form> \r\n    ); \r\n}\r\n\r\nexport default FilterPerson","import React from 'react'\r\nconst Person = (props, deletePerson) => {\r\n  return (\r\n    <li>{props.name}  {props.number} <button onClick={props.deletePerson}>Delete</button></li>\r\n  )\r\n}\r\n  export default Person","import React from 'react'\r\nimport Person from './Person'\r\nconst Persons = (props) => {\r\n  return (\r\n      <ul>\r\n          {props.persons.filter(person => person.name.toUpperCase().includes(props.newSearch.toUpperCase())).map(person => (\r\n          <Person key={person.id} name={person.name} number={person.number} deletePerson={props.handleDeletePerson(person.name, person.id)} /> ))}\r\n      </ul> \r\n  ) \r\n}\r\nexport default Persons","import axios from \"axios\";\r\n// const baseURL = 'http://localhost:3001/persons';\r\nconst baseURL = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseURL);\r\n  return request.then(response => response.data);\r\n};\r\nconst create = newObject =>{\r\n  const request = axios.post(baseURL, newObject);\r\n  return request.then(response => response.data);\r\n\r\n};\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseURL}/${id}`, newObject)\r\n}\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`);\r\n    return request.then(response => response.data);\r\n  };\r\n  \r\nexport default {\r\n    getAll,create,deletePerson,update\r\n}","import React from 'react'\r\nconst Notification = ({ message , status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    if(status === false)\r\n     {return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )}\r\n    return (\r\n        <div className=\"success\">\r\n          {message}\r\n        </div>\r\n      )\r\n  }\r\n  export default Notification","import React, { useEffect, useState} from \"react\";\nimport NewPerson from \"./components/AddPerson\";\nimport FilterPerson from \"./components/FilterPerson\";\nimport './index.css';\nimport Persons from \"./components/Persons\";\nimport personDB from \"./services/personDB\";\nimport Notification from \"./components/Notification\";\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link,useParams,useRouteMatch\n} from \"react-router-dom\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [status,setStatus]=useState(false);\n  const setName = (event) =>setNewName(event.target.value);\n  const setNumber = (event) => setNewNumber(event.target.value);\n  const checkNames = (person) => (person.name === newName);\n  const checkNumbers = (person) => (person.number === newNumber);\n  useEffect(() => {\n    console.log('effect')\n    personDB.getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n}, [])\n const handleDeletePerson = (name, id) => {\n  \n    return () => {\n      if (window.confirm(`Do you wante to Delete ${name} ?`)) {\n        personDB\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(n => n.id !== id))\n            setStatus(true)\n            setErrorMessage(`Deleted ${name}`)             \n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          }).catch(error => {\n            setStatus(false)\n            setErrorMessage(\n         \n              `'${name}' cannot be Deleted.`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n          }}}\n  const addName = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: Math.floor(Math.random() * 101)\n    };\n    if(persons.findIndex(checkNames)!==-1) \n    {if(persons.findIndex(checkNumbers) === persons.findIndex(checkNames))\n      { setStatus(true)\n        setErrorMessage(`${newName}  is already added to phonebook`);\n       setTimeout(() => {\n         setErrorMessage(null);\n       }, 5000);}\n       else if(persons.findIndex(checkNumbers) !== persons.findIndex(checkNames))\n     { const x=persons.find(checkNames)\n      const changednumId=persons.find(q => q.id === x.id) \n     const id=changednumId.id\n          const changedNumber={...changednumId,number:newNumber}\n        personDB\n        .update(id, changedNumber)\n        .then(response => {\n          setPersons(persons.map(person => person.id !== id ? person : response.data))\n        }).catch(error => {\n          setStatus(false)\n          setErrorMessage(         \n            `${x.name}  is already added to phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n      }\n      }\n      else {\n        personDB\n          .create(personObject)\n          .then(newPerson => {\n            setPersons(persons.concat(newPerson));\n            setStatus(true);\n            setErrorMessage(`Added ${personObject.name}`);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch(error => {\n            setStatus(false);\n            setErrorMessage(`${error.response.data.error}`);\n            console.log(error.response.data);\n          });\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 3000);\n      }\n    };\n  \n   \n\n const handleSearchChange = (event)  =>{\n   setNewSearch(event.target.value);\n  }\n  \n  \n\n  return (\n    <div className=\"container\"><form>\n      <Notification message={errorMessage} status={status} />\n      <h2>Phonebook</h2>   \n     <FilterPerson newSearch={newSearch} handleSearchChange={handleSearchChange} />\n        <NewPerson newName={newName} setName={setName} number={newNumber} setNumber={setNumber} addName={addName}  handleDeletePerson={handleDeletePerson} />\n    </form>  \n        <Router>\n          <Link to=\"/contacts\"><h2>Numbers</h2></Link>\n            <Switch>\n              <Route path=\"/contacts\">\n              <Persons\n        persons={persons}\n        newSearch={newSearch}\n        handleDeletePerson={handleDeletePerson}\n      />\n              </Route>\n            </Switch>\n          \n        </Router>  \n        \n    \n    </div>\n     )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />, document.getElementById('root')\n);\n\n"],"sourceRoot":""}